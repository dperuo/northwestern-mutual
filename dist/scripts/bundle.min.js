/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(1);

	angular
	  .module('nwmApp', [
	    'nwmUserList'
	  ]);


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	angular
	  .module('nwmUserList', [])

	__webpack_require__(2);


/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	var nwmUserListEndpoints = __webpack_require__(3);
	var nwmUserListService = __webpack_require__(4);
	var nwmUserListTemplate = __webpack_require__(5);

	angular
	  .module('nwmUserList')
	  .directive('nwmUserList', nwmUserListFn);

	nwmUserListFn.$inject = ['$filter', 'nwmUserListService'];

	function nwmUserListFn($filter, nwmUserListService) {
	  return {
	    restrict: 'E',
	    scope: {
	      listTitle: '@',
	      listData: '@'
	    },
	    template: nwmUserListTemplate,
	    link: function (scope, elem, attr) {
	      var vm = scope;

	      vm.title = vm.listTitle;
	      vm.isReversed = false;

	      getList();

	      vm.sortList = function sortListFn(isReversed) {
	        vm.isReversed = (angular.isUndefined(isReversed)) ? false : true;
	        setResults();
	      }

	      function getList() {
	        nwmUserListService
	          .getList(nwmUserListEndpoints[vm.listData])
	          .then(function(success) {
	            var withFullName = success.data.results.map(function(value, index, array) {
	              var first = value.name.first.charAt(0).toUpperCase() + value.name.first.slice(1);
	              var last = value.name.last.charAt(0).toUpperCase() + value.name.last.slice(1);
	              value.fullName = [last, first].join(', ');
	              return value;
	            })

	            setResults(withFullName)
	          })
	      }

	      function setResults(array) {
	        var collection = (angular.isDefined(array)) ? angular.copy(array) : angular.copy(vm.results);
	        vm.results = $filter('orderBy')(collection, 'fullName', vm.isReversed)
	      }
	    }
	  }
	}


/***/ },
/* 3 */
/***/ function(module, exports) {

	module.exports = {
		"alltime": "https://randomuser.me/api/?callback=JSON_CALLBACK&noinfo&results=20&nat=gb",
		"today": "https://randomuser.me/api/?callback=JSON_CALLBACK&noinfo&results=20&nat=ca"
	};

/***/ },
/* 4 */
/***/ function(module, exports) {

	angular
	  .module('nwmUserList')
	  .factory('nwmUserListService', nwmUserListServiceFn)

	nwmUserListServiceFn.$inject = ['$q', '$http'];

	function nwmUserListServiceFn($q, $http) {
	  return {
	    getList: function(endpoint) {
	      return $q(function(resolve, reject) {
	        $http
	          .jsonp(endpoint)
	          .then(function(success) {
	            resolve(success);
	          },
	          function(error) {
	            reject(error)
	          })
	      })
	    }
	  }
	}


/***/ },
/* 5 */
/***/ function(module, exports) {

	module.exports = "<div class=\"nwm-user-list-container\">\n  <div class=\"row\">\n    <div class=\"col-xs-12\">\n      <h1>{{ title }}</h1>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-xs-12 text-right\">\n      <button type=\"button\" class=\"btn btn-link\" ng-click=\"sortList()\">A&ndash;Z</button>|<button type=\"button\" class=\"btn btn-link\" ng-click=\"sortList('reverse')\">Z&ndash;A</button>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-xs-12\">\n      <ul class=\"media-list\">\n        <li class=\"media\" ng-repeat=\"user in results track by $index\">\n          <div class=\"media-left\">\n            <img class=\"media-object\" ng-src=\"{{user.picture.large}}\" alt=\"{{user.fullName}}\">\n          </div>\n          <div class=\"media-body media-middle\">\n            <h3 class=\"media-heading\">{{user.fullName}}</h3>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n";

/***/ }
/******/ ]);